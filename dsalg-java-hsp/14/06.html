<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>普利姆算法 | 数据结构与算法 系列教程（笔记）</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/dsalg-tutorial/favicon.ico">
    <link rel="manifest" href="/dsalg-tutorial/manifest.json">
    <meta name="description" content="数据结构与算法 系列教程学习笔记">
    
    <link rel="preload" href="/dsalg-tutorial/assets/css/0.styles.c775139a.css" as="style"><link rel="preload" href="/dsalg-tutorial/assets/js/app.b3f33a4f.js" as="script"><link rel="preload" href="/dsalg-tutorial/assets/js/2.536adad5.js" as="script"><link rel="preload" href="/dsalg-tutorial/assets/js/31.2b1ed55c.js" as="script"><link rel="preload" href="/dsalg-tutorial/assets/js/34.afb1225f.js" as="script"><link rel="prefetch" href="/dsalg-tutorial/assets/js/10.3ff626af.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/11.5004ccf5.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/12.23aedd65.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/13.aed7de4c.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/14.879cca43.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/15.fc47c435.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/16.118fd0ae.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/17.e84004ce.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/18.30714318.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/19.11750b8b.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/20.b863b6fa.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/21.2137d97a.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/22.80669c22.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/23.72848772.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/24.1bfedeca.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/25.e2601a21.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/26.e702edb4.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/27.ad8a7c18.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/28.1a99ac84.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/29.5b4e07d0.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/3.9077a884.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/30.ff8db3bd.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/32.0b2d028a.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/33.575680f8.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/35.ff23ab9c.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/36.966af213.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/37.1532f63d.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/38.c5d19f3a.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/39.74bbba40.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/4.1e9539df.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/40.88c2da1f.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/41.8e03ff24.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/42.3b5bd9a1.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/43.fb907a45.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/44.a569314b.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/45.a60de9bb.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/46.d95071d0.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/47.880335c1.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/48.02c3ff97.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/49.2d482c07.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/5.c7039330.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/50.9de303c0.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/51.3c1c6891.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/52.884af6fd.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/53.bf432221.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/54.4fb4af27.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/55.2ea06681.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/56.4e6df2a4.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/57.ae752045.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/58.4468f657.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/59.669915bf.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/6.60f1f064.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/60.4d66bd2d.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/61.ca05d424.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/62.c0b906b2.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/63.a0dc0f05.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/64.f36cd2b6.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/65.7a82dcaf.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/66.8754f6de.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/67.d3e225ea.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/68.030b474b.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/69.fd9a462f.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/7.a38db74b.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/70.cf2d81c3.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/71.125b9bb8.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/72.a6c442e1.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/73.58a2763a.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/74.ba0df329.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/75.8a88d87c.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/76.06d41bea.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/77.f9b51c70.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/78.19aaa208.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/79.afc7b02d.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/8.57ff1192.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/80.f632c51b.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/9.aa6a27fa.js">
    <link rel="stylesheet" href="/dsalg-tutorial/assets/css/0.styles.c775139a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/dsalg-tutorial/" class="home-link router-link-active"><img src="/dsalg-tutorial/mlogo.svg" alt="数据结构与算法 系列教程（笔记）" class="logo"> <span class="site-name can-hide">数据结构与算法 系列教程（笔记）</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/dsalg-tutorial/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/dsalg-tutorial/dsalg-java-hsp/" class="nav-link router-link-active">
  图解 Java 数据结构和算法
</a></div><div class="nav-item"><a href="https://github.com/zq99299/repository-summary" target="_blank" rel="noopener noreferrer" class="nav-link external">
  笔记精选汇总
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/zq99299/dsalg-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/dsalg-tutorial/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/dsalg-tutorial/dsalg-java-hsp/" class="nav-link router-link-active">
  图解 Java 数据结构和算法
</a></div><div class="nav-item"><a href="https://github.com/zq99299/repository-summary" target="_blank" rel="noopener noreferrer" class="nav-link external">
  笔记精选汇总
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/zq99299/dsalg-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/dsalg-tutorial/dsalg-java-hsp/" aria-current="page" class="sidebar-link">图解 Java 数据结构和算法</a></li><li><a href="/dsalg-tutorial/dsalg-java-hsp/01/" class="sidebar-link">内容介绍</a></li><li><a href="/dsalg-tutorial/dsalg-java-hsp/02/" class="sidebar-link">数据结构和算法概述</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>稀疏数组和队列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>链表 Linked List</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>栈</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>递归</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>排序算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>查找算法</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/dsalg-tutorial/dsalg-java-hsp/09/" class="sidebar-link">哈希表（散列）</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>树结构-基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>树结构-实际应用</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>多路查找树</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>图</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>常用 10 种算法</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dsalg-tutorial/dsalg-java-hsp/14/" aria-current="page" class="sidebar-link">常用 10 种算法</a></li><li><a href="/dsalg-tutorial/dsalg-java-hsp/14/01.html" class="sidebar-link">二分查找算法（非递归）</a></li><li><a href="/dsalg-tutorial/dsalg-java-hsp/14/02.html" class="sidebar-link">分治算法</a></li><li><a href="/dsalg-tutorial/dsalg-java-hsp/14/03.html" class="sidebar-link">动态规划算法</a></li><li><a href="/dsalg-tutorial/dsalg-java-hsp/14/04.html" class="sidebar-link">KMP 算法</a></li><li><a href="/dsalg-tutorial/dsalg-java-hsp/14/05.html" class="sidebar-link">贪心算法</a></li><li><a href="/dsalg-tutorial/dsalg-java-hsp/14/06.html" aria-current="page" class="active sidebar-link">普利姆算法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dsalg-tutorial/dsalg-java-hsp/14/06.html#应用场景-修路问题" class="sidebar-link">应用场景-修路问题</a></li><li class="sidebar-sub-header"><a href="/dsalg-tutorial/dsalg-java-hsp/14/06.html#最小生成树" class="sidebar-link">最小生成树</a></li><li class="sidebar-sub-header"><a href="/dsalg-tutorial/dsalg-java-hsp/14/06.html#普利姆算法介绍" class="sidebar-link">普利姆算法介绍</a></li><li class="sidebar-sub-header"><a href="/dsalg-tutorial/dsalg-java-hsp/14/06.html#普利姆算法图解" class="sidebar-link">普利姆算法图解</a></li><li class="sidebar-sub-header"><a href="/dsalg-tutorial/dsalg-java-hsp/14/06.html#代码实现" class="sidebar-link">代码实现</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dsalg-tutorial/dsalg-java-hsp/14/06.html#生成图" class="sidebar-link">生成图</a></li><li class="sidebar-sub-header"><a href="/dsalg-tutorial/dsalg-java-hsp/14/06.html#最小生成树-2" class="sidebar-link">最小生成树</a></li></ul></li></ul></li><li><a href="/dsalg-tutorial/dsalg-java-hsp/14/07.html" class="sidebar-link">克鲁斯卡尔算法</a></li><li><a href="/dsalg-tutorial/dsalg-java-hsp/14/08.html" class="sidebar-link">迪杰斯特拉算法</a></li><li><a href="/dsalg-tutorial/dsalg-java-hsp/14/09.html" class="sidebar-link">弗洛伊德算法</a></li><li><a href="/dsalg-tutorial/dsalg-java-hsp/14/10.html" class="sidebar-link">马踏棋盘算法</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="普利姆算法"><a href="#普利姆算法" class="header-anchor">#</a> 普利姆算法</h1> <h2 id="应用场景-修路问题"><a href="#应用场景-修路问题" class="header-anchor">#</a> 应用场景-修路问题</h2> <p><img src="/dsalg-tutorial/assets/img/image-20210104140833558.70890b15.png" alt="image-20210104140833558"></p> <p>胜利乡有 7 个村庄(<code>A, B, C, D, E, F, G</code>) ，现在需要修路把 7 个村庄连通，各个 <strong>村庄的距离用边线表示(权)</strong> ，比如 A – B 距离 5 公里</p> <p>问：如何修路保证各个村庄都能连通，并且总的修建公路 <strong>总里程最短?</strong></p> <p>思路:</p> <ul><li><p>只满足连通：将 10 条边，连接即可，但是总的里程数不是最小.</p></li> <li><p>满足连通，又保证总里程最短：就是尽可能的选择少的路线，并且每条路线最小，保证总里程数最少</p></li></ul> <h2 id="最小生成树"><a href="#最小生成树" class="header-anchor">#</a> 最小生成树</h2> <p>修路问题本质就是就是 <strong>最小生成树问题</strong>， 最小生成树(Minimum Cost Spanning Tree)，简称 MST。</p> <p>给定一个 <strong>带权的无向连通图</strong>，如何选取一棵生成树，使树上所有边上权的总和为最小，这叫最小生成树 ，它有如下特点：</p> <ul><li>N 个顶点，一定有 <code>N-1</code> 条边</li> <li>包含全部顶点</li> <li><code>N-1</code> 条边都在图中</li></ul> <p>比如下图：</p> <p><img src="/dsalg-tutorial/assets/img/image-20210104141937284.0c6d4a0c.png" alt="image-20210104141937284"></p> <p>求最小生成树的算法主要是 <strong>普里姆算法</strong> 和 <strong>克鲁斯卡尔算法</strong></p> <h2 id="普利姆算法介绍"><a href="#普利姆算法介绍" class="header-anchor">#</a> 普利姆算法介绍</h2> <p>普利姆（Prim）算法求最小生成树，也就是：在包含 n 个顶点的连通图中，找出只有(<code>n-1</code>)条边包含所有 n 个顶点的连通子图，也就是所谓的 <strong>极小连通子图</strong></p> <p>它的算法如下：</p> <ol><li>设</li></ol> <ul><li><p><code>G=(V,E)</code> 是连通网</p></li> <li><p><code>T=(U,D)</code> 是最小生成树</p></li> <li><p>V、U 是顶点集合</p></li> <li><p>E、D 是边的集合</p></li></ul> <ol start="2"><li><p>若从顶点 u 开始构造最小生成树，则从集合 V 中取出顶点 u 放入集合 U 中，标记顶点 v 的<code>visited[u]=1</code></p></li> <li><p>若集合 U 中顶点 ui 与集合 V-U 中的顶点 vj 之间存在边，则寻找这些边中权值最小的边，但不能构成回路，将顶点 vj 加入集合U中，将边（ui,vj）加入集合 D 中，标记 <code>visited[vj]=1</code></p></li> <li><p>重复步骤 ②，直到 U 与 V 相等，即所有顶点都被标记为访问过，此时 D 中有 n-1 条边</p></li></ol> <h2 id="普利姆算法图解"><a href="#普利姆算法图解" class="header-anchor">#</a> 普利姆算法图解</h2> <p>以这个为例子：</p> <p><img src="/dsalg-tutorial/assets/img/image-20210104140833558.70890b15.png" alt="image-20210104140833558"></p> <ol><li><p>从 A 点开始处理</p> <p>与 A 直连的点有：</p> <ul><li><code>A,C [7]</code>：后面中括号中的是他的权值</li> <li><code>A,B [5]</code></li> <li><code>A,G [2]</code></li></ul> <p>在这个所有的边中，<code>A,G [2]</code> 的权值最小，那么结果是：<code>A、G</code></p></li> <li><p>从 <code>A、G</code> 开始，找到他们的直连边，但是不包含已经访选择过的边。</p> <ol><li><code>A,C [7]</code></li> <li><code>A,B [5]</code></li> <li><code>G,B [3]</code></li> <li><code>G,E [4]</code></li> <li><code>G,F [6]</code></li></ol> <p>在以上边中，权值最小的是：<code>G,B [3]</code>，那么结果是：<code>A、G、B</code></p></li> <li><p>以 <code>A、G、B</code> 开始，找到他们的直连边，但是不包含已经访选择过的边。</p> <ol><li><code>A,C [7]</code></li> <li><code>A,B [5]</code></li> <li><code>G,E [4]</code></li> <li><code>G,F [6]</code></li> <li><code>B,D [9]</code></li></ol> <p>在以上边中，权值最小的是：<code>G,E [4]</code>，那么结果是：<code>A、G、B、E</code></p></li> <li><p><code>A、G、B、E</code> →   权值最小的边是  <code>E，F [5]</code>  →    <code>A、G、B、E、F</code></p></li> <li><p><code>A、G、B、E、F</code> →   权值最小的边是  <code>F，D [4]</code>  →    <code>A、G、B、E、F、D</code></p></li> <li><p><code>A、G、B、E、F、D</code> →   权值最小的边是  <code>A，C [7]</code>  →    <code>A、G、B、E、F、D、C</code></p></li></ol> <p>那么最终结果则为下图：</p> <p><img src="/dsalg-tutorial/assets/img/image-20210104144759316.855b8c32.png" alt="image-20210104144759316"></p> <p>总里程数量为：<code>2+3+4+5+4+7=25</code></p> <h2 id="代码实现"><a href="#代码实现" class="header-anchor">#</a> 代码实现</h2> <h3 id="生成图"><a href="#生成图" class="header-anchor">#</a> 生成图</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>mrcode<span class="token punctuation">.</span>study<span class="token punctuation">.</span>dsalgtutorialdemo<span class="token punctuation">.</span>algorithm<span class="token punctuation">.</span>prim</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 普利姆算法
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PrimAlgorithm</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * 图：首先需要有一个带权的连通无向图
     */</span>
    <span class="token keyword">class</span> <span class="token class-name">MGraph</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> vertex<span class="token punctuation">;</span>  <span class="token comment">// 顶点个数</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> weights<span class="token punctuation">;</span>  <span class="token comment">// 邻接矩阵</span>
        <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> datas<span class="token punctuation">;</span> <span class="token comment">// 村庄数据</span>

        <span class="token comment">/**
         * @param vertex  村庄数量， 会按照数量，按顺序生成村庄，如 A、B、C...
         * @param weights 需要你自己定义好那些点是连通的，那些不是连通的
         */</span>
        <span class="token keyword">public</span> <span class="token class-name">MGraph</span><span class="token punctuation">(</span><span class="token keyword">int</span> vertex<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> weights<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>vertex <span class="token operator">=</span> vertex<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>weights <span class="token operator">=</span> weights<span class="token punctuation">;</span>

            <span class="token keyword">this</span><span class="token punctuation">.</span>datas <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span>vertex<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> vertex<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 大写字母 A 从 65 开始</span>
                datas<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token number">65</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%-8s&quot;</span><span class="token punctuation">,</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> vertex <span class="token operator">:</span> datas<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 控制字符串输出长度：少于 8 位的，右侧用空格补位</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%-8s&quot;</span><span class="token punctuation">,</span> vertex <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> weights<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%-8s&quot;</span><span class="token punctuation">,</span> datas<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> weights<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%-8s&quot;</span><span class="token punctuation">,</span> weights<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">mGraphTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 不连通的默认值：</span>
        <span class="token comment">// 这里设置为较大的数，是为了后续的计算方便，计算权值的时候，不会选择</span>
        <span class="token keyword">int</span> defaultNo <span class="token operator">=</span> <span class="token number">100000</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> weights <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>
                <span class="token punctuation">{</span>defaultNo<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token comment">// A</span>
                <span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">// B</span>
                <span class="token punctuation">{</span><span class="token number">7</span><span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> defaultNo<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">// C</span>
                <span class="token punctuation">{</span>defaultNo<span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> defaultNo<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">// D</span>
                <span class="token punctuation">{</span>defaultNo<span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">// E</span>
                <span class="token punctuation">{</span>defaultNo<span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">// F</span>
                <span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> defaultNo<span class="token punctuation">}</span><span class="token comment">// G</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token class-name">MGraph</span> mGraph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MGraph</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> weights<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mGraph<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br></div></div><p>测试输出</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>        A       B       C       D       E       F       G       
A       100000  5       7       100000  100000  100000  2       
B       5       100000  100000  9       100000  100000  3       
C       7       100000  100000  100000  8       100000  100000  
D       100000  9       100000  100000  100000  4       100000  
E       100000  100000  8       100000  100000  5       4       
F       100000  100000  100000  4       5       100000  6       
G       2       3       100000  100000  4       6       100000  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>使用邻接矩阵构建了一个无向图，按照题目中的连通要求进行构建。</p> <p><img src="/dsalg-tutorial/assets/img/image-20210104140833558.70890b15.png" alt="image-20210104140833558"></p> <h3 id="最小生成树-2"><a href="#最小生成树-2" class="header-anchor">#</a> 最小生成树</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>
    <span class="token comment">/**
     * 最小生成树
     */</span>
    <span class="token keyword">class</span> <span class="token class-name">MinTree</span> <span class="token punctuation">{</span>
        <span class="token comment">/**
         * 普利姆算法
         *
         * @param mGraph 无向图
         * @param v      从哪一个点开始生成
         */</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">prim</span><span class="token punctuation">(</span><span class="token class-name">MGraph</span> mGraph<span class="token punctuation">,</span> <span class="token keyword">int</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> minTotalWeight <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 记录已选择的边的总权值，仅仅只是为了测试打印验证</span>

            <span class="token comment">// 记录已经选择过的节点</span>
            <span class="token keyword">boolean</span><span class="token punctuation">[</span><span class="token punctuation">]</span> selects <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">boolean</span><span class="token punctuation">[</span>mGraph<span class="token punctuation">.</span>vertex<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token comment">// 从哪个节点开始，则标识已经被访问</span>
            selects<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

            <span class="token comment">// 一共要生成 n-1 条边</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> mGraph<span class="token punctuation">.</span>vertex<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 每次循环：选择一条权值最小的边出来</span>

                <span class="token comment">// 记录最小值</span>
                <span class="token keyword">int</span> minWeight <span class="token operator">=</span> <span class="token number">10000</span><span class="token punctuation">;</span>
                <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token keyword">int</span> y <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>

                <span class="token comment">// 每次查找权值最小的边：根据思路，每次都是从已经选择过的点，中去找与该点直连的点的权值</span>
                <span class="token comment">// 并且该点还没有被选择过：如果两个点都被选择过，要么他们是双向的，要么就是被其他的点选择过了</span>
                <span class="token comment">// 这里双循环的含义：建议对照笔记中步骤分析理解</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> mGraph<span class="token punctuation">.</span>vertex<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> mGraph<span class="token punctuation">.</span>vertex<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token comment">// 通过 j 来限定已经选择过的点</span>
                        <span class="token comment">// 通过 k 来遍历匹配，没有选择过的点</span>
                        <span class="token comment">// 假设第一轮是 A 点：j = 0</span>
                        <span class="token comment">// 那么在这里将会执行 0,1  0,2, 0,3 也就是与 A 点直连，且没有被选择过的点，的最小权值</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span>selects<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>selects<span class="token punctuation">[</span>k<span class="token punctuation">]</span>
                                <span class="token operator">&amp;&amp;</span> mGraph<span class="token punctuation">.</span>weights<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">&lt;</span> minWeight
                        <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token comment">// 记录最小权值，与这条边的信息</span>
                            minWeight <span class="token operator">=</span> mGraph<span class="token punctuation">.</span>weights<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>
                            x <span class="token operator">=</span> j<span class="token punctuation">;</span>
                            y <span class="token operator">=</span> k<span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                <span class="token comment">// 当一次循环结束时：就找到了一条权值最小的边</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s,%s [%s] \n&quot;</span><span class="token punctuation">,</span> mGraph<span class="token punctuation">.</span>datas<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">,</span> mGraph<span class="token punctuation">.</span>datas<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">,</span> mGraph<span class="token punctuation">.</span>weights<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                minTotalWeight <span class="token operator">+=</span> mGraph<span class="token punctuation">.</span>weights<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 统计已选择边权值</span>

                minWeight <span class="token operator">=</span> <span class="token number">10000</span><span class="token punctuation">;</span>
                <span class="token comment">// 记录该点已经被选择</span>
                <span class="token comment">// 在查找最小权值边的代码中：y=k, k 表示没有被选择过的点，所以，找到之后，这里记录 y 为这条边的另一个点</span>
                selects<span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;总权值：&quot;</span> <span class="token operator">+</span> minTotalWeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">primTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 不连通的默认值：</span>
        <span class="token comment">// 这里设置为较大的数，是为了后续的计算方便，计算权值的时候，不会选择</span>
        <span class="token keyword">int</span> defaultNo <span class="token operator">=</span> <span class="token number">100000</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> weights <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>
                <span class="token punctuation">{</span>defaultNo<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token comment">// A</span>
                <span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">// B</span>
                <span class="token punctuation">{</span><span class="token number">7</span><span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> defaultNo<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">// C</span>
                <span class="token punctuation">{</span>defaultNo<span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> defaultNo<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">// D</span>
                <span class="token punctuation">{</span>defaultNo<span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">// E</span>
                <span class="token punctuation">{</span>defaultNo<span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">// F</span>
                <span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> defaultNo<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> defaultNo<span class="token punctuation">}</span><span class="token comment">// G</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token class-name">MGraph</span> mGraph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MGraph</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> weights<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mGraph<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">MinTree</span> minTree <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MinTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        minTree<span class="token punctuation">.</span><span class="token function">prim</span><span class="token punctuation">(</span>mGraph<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br></div></div><p>测试输出</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>        A       B       C       D       E       F       G       
A       100000  5       7       100000  100000  100000  2       
B       5       100000  100000  9       100000  100000  3       
C       7       100000  100000  100000  8       100000  100000  
D       100000  9       100000  100000  100000  4       100000  
E       100000  100000  8       100000  100000  5       4       
F       100000  100000  100000  4       5       100000  6       
G       2       3       100000  100000  4       6       100000  
A,G [2] 
G,B [3] 
G,E [4] 
E,F [5] 
F,D [4] 
A,C [7] 
总权值：25
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>测试结果也就是这个图</p> <p><img src="/dsalg-tutorial/assets/img/image-20210104144759316.855b8c32.png" alt="image-20210104144759316"></p> <p>下面看看起始点不同的输出信息，从 B 点开始：<code>minTree.prim(mGraph, 1);</code></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>B,G [3] 
G,A [2] 
G,E [4] 
E,F [5] 
F,D [4] 
A,C [7] 
总权值：25
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>可以看到：顺序不同，但是边和总权值是相同的。</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/zq99299/dsalg-tutorial/edit/master/docs/dsalg-java-hsp/14/06.md" target="_blank" rel="noopener noreferrer">帮助我们改善此页面！</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新: :</span> <span class="time">2023-07-11 02:03:36</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/dsalg-tutorial/dsalg-java-hsp/14/05.html" class="prev">
        贪心算法
      </a></span> <span class="next"><a href="/dsalg-tutorial/dsalg-java-hsp/14/07.html">
        克鲁斯卡尔算法
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/dsalg-tutorial/assets/js/app.b3f33a4f.js" defer></script><script src="/dsalg-tutorial/assets/js/2.536adad5.js" defer></script><script src="/dsalg-tutorial/assets/js/31.2b1ed55c.js" defer></script><script src="/dsalg-tutorial/assets/js/34.afb1225f.js" defer></script>
  </body>
</html>
