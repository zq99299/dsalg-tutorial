<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>迪杰斯特拉算法 | 数据结构与算法 系列教程（笔记）</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/dsalg-tutorial/favicon.ico">
    <link rel="manifest" href="/dsalg-tutorial/manifest.json">
    <meta name="description" content="数据结构与算法 系列教程学习笔记">
    
    <link rel="preload" href="/dsalg-tutorial/assets/css/0.styles.c775139a.css" as="style"><link rel="preload" href="/dsalg-tutorial/assets/js/app.b3f33a4f.js" as="script"><link rel="preload" href="/dsalg-tutorial/assets/js/2.536adad5.js" as="script"><link rel="preload" href="/dsalg-tutorial/assets/js/32.0b2d028a.js" as="script"><link rel="preload" href="/dsalg-tutorial/assets/js/34.afb1225f.js" as="script"><link rel="prefetch" href="/dsalg-tutorial/assets/js/10.3ff626af.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/11.5004ccf5.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/12.23aedd65.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/13.aed7de4c.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/14.879cca43.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/15.fc47c435.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/16.118fd0ae.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/17.e84004ce.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/18.30714318.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/19.11750b8b.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/20.b863b6fa.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/21.2137d97a.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/22.80669c22.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/23.72848772.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/24.1bfedeca.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/25.e2601a21.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/26.e702edb4.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/27.ad8a7c18.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/28.1a99ac84.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/29.5b4e07d0.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/3.9077a884.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/30.ff8db3bd.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/31.2b1ed55c.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/33.575680f8.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/35.ff23ab9c.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/36.966af213.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/37.1532f63d.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/38.c5d19f3a.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/39.74bbba40.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/4.1e9539df.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/40.88c2da1f.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/41.8e03ff24.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/42.3b5bd9a1.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/43.fb907a45.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/44.a569314b.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/45.a60de9bb.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/46.d95071d0.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/47.880335c1.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/48.02c3ff97.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/49.2d482c07.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/5.c7039330.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/50.9de303c0.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/51.3c1c6891.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/52.884af6fd.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/53.bf432221.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/54.4fb4af27.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/55.2ea06681.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/56.4e6df2a4.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/57.ae752045.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/58.4468f657.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/59.669915bf.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/6.60f1f064.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/60.4d66bd2d.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/61.ca05d424.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/62.c0b906b2.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/63.a0dc0f05.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/64.f36cd2b6.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/65.7a82dcaf.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/66.8754f6de.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/67.d3e225ea.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/68.030b474b.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/69.fd9a462f.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/7.a38db74b.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/70.cf2d81c3.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/71.125b9bb8.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/72.a6c442e1.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/73.58a2763a.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/74.ba0df329.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/75.8a88d87c.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/76.06d41bea.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/77.f9b51c70.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/78.19aaa208.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/79.afc7b02d.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/8.57ff1192.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/80.f632c51b.js"><link rel="prefetch" href="/dsalg-tutorial/assets/js/9.aa6a27fa.js">
    <link rel="stylesheet" href="/dsalg-tutorial/assets/css/0.styles.c775139a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/dsalg-tutorial/" class="home-link router-link-active"><img src="/dsalg-tutorial/mlogo.svg" alt="数据结构与算法 系列教程（笔记）" class="logo"> <span class="site-name can-hide">数据结构与算法 系列教程（笔记）</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/dsalg-tutorial/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/dsalg-tutorial/dsalg-java-hsp/" class="nav-link router-link-active">
  图解 Java 数据结构和算法
</a></div><div class="nav-item"><a href="https://github.com/zq99299/repository-summary" target="_blank" rel="noopener noreferrer" class="nav-link external">
  笔记精选汇总
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/zq99299/dsalg-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/dsalg-tutorial/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/dsalg-tutorial/dsalg-java-hsp/" class="nav-link router-link-active">
  图解 Java 数据结构和算法
</a></div><div class="nav-item"><a href="https://github.com/zq99299/repository-summary" target="_blank" rel="noopener noreferrer" class="nav-link external">
  笔记精选汇总
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/zq99299/dsalg-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/dsalg-tutorial/dsalg-java-hsp/" aria-current="page" class="sidebar-link">图解 Java 数据结构和算法</a></li><li><a href="/dsalg-tutorial/dsalg-java-hsp/01/" class="sidebar-link">内容介绍</a></li><li><a href="/dsalg-tutorial/dsalg-java-hsp/02/" class="sidebar-link">数据结构和算法概述</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>稀疏数组和队列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>链表 Linked List</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>栈</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>递归</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>排序算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>查找算法</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/dsalg-tutorial/dsalg-java-hsp/09/" class="sidebar-link">哈希表（散列）</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>树结构-基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>树结构-实际应用</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>多路查找树</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>图</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>常用 10 种算法</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dsalg-tutorial/dsalg-java-hsp/14/" aria-current="page" class="sidebar-link">常用 10 种算法</a></li><li><a href="/dsalg-tutorial/dsalg-java-hsp/14/01.html" class="sidebar-link">二分查找算法（非递归）</a></li><li><a href="/dsalg-tutorial/dsalg-java-hsp/14/02.html" class="sidebar-link">分治算法</a></li><li><a href="/dsalg-tutorial/dsalg-java-hsp/14/03.html" class="sidebar-link">动态规划算法</a></li><li><a href="/dsalg-tutorial/dsalg-java-hsp/14/04.html" class="sidebar-link">KMP 算法</a></li><li><a href="/dsalg-tutorial/dsalg-java-hsp/14/05.html" class="sidebar-link">贪心算法</a></li><li><a href="/dsalg-tutorial/dsalg-java-hsp/14/06.html" class="sidebar-link">普利姆算法</a></li><li><a href="/dsalg-tutorial/dsalg-java-hsp/14/07.html" class="sidebar-link">克鲁斯卡尔算法</a></li><li><a href="/dsalg-tutorial/dsalg-java-hsp/14/08.html" aria-current="page" class="active sidebar-link">迪杰斯特拉算法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dsalg-tutorial/dsalg-java-hsp/14/08.html#应用场景-最短路径问题" class="sidebar-link">应用场景-最短路径问题</a></li><li class="sidebar-sub-header"><a href="/dsalg-tutorial/dsalg-java-hsp/14/08.html#迪杰斯特拉算法介绍" class="sidebar-link">迪杰斯特拉算法介绍</a></li><li class="sidebar-sub-header"><a href="/dsalg-tutorial/dsalg-java-hsp/14/08.html#迪杰斯特拉算法过程" class="sidebar-link">迪杰斯特拉算法过程</a></li><li class="sidebar-sub-header"><a href="/dsalg-tutorial/dsalg-java-hsp/14/08.html#迪杰斯特拉算法-步骤" class="sidebar-link">迪杰斯特拉算法-步骤</a></li><li class="sidebar-sub-header"><a href="/dsalg-tutorial/dsalg-java-hsp/14/08.html#代码实现" class="sidebar-link">代码实现</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dsalg-tutorial/dsalg-java-hsp/14/08.html#构建无向图" class="sidebar-link">构建无向图</a></li><li class="sidebar-sub-header"><a href="/dsalg-tutorial/dsalg-java-hsp/14/08.html#迪杰斯特拉算法求解" class="sidebar-link">迪杰斯特拉算法求解</a></li><li class="sidebar-sub-header"><a href="/dsalg-tutorial/dsalg-java-hsp/14/08.html#换一个出发点验证" class="sidebar-link">换一个出发点验证</a></li></ul></li></ul></li><li><a href="/dsalg-tutorial/dsalg-java-hsp/14/09.html" class="sidebar-link">弗洛伊德算法</a></li><li><a href="/dsalg-tutorial/dsalg-java-hsp/14/10.html" class="sidebar-link">马踏棋盘算法</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="迪杰斯特拉算法"><a href="#迪杰斯特拉算法" class="header-anchor">#</a> 迪杰斯特拉算法</h1> <h2 id="应用场景-最短路径问题"><a href="#应用场景-最短路径问题" class="header-anchor">#</a> 应用场景-最短路径问题</h2> <p><img src="/dsalg-tutorial/assets/img/image-20210105181333340.2593f8ad.png" alt="image-20210105181333340"></p> <p>战争时期，胜利乡有 7 个村庄 <code>(A, B, C, D, E, F, G)</code> ，现在有六个邮差，从 G 点出发，需要分别把邮件分别送到 <code>A, B, C , D, E, F</code>  六个村庄，各个村庄的距离用边线表示(权) ，比如 A – B 距离 5公里</p> <p>问：如何计算出 G 村庄到 其它各个村庄的 <strong>最短距离</strong>? 如果从其它点出发到各个点的最短距离又是多少?</p> <h2 id="迪杰斯特拉算法介绍"><a href="#迪杰斯特拉算法介绍" class="header-anchor">#</a> 迪杰斯特拉算法介绍</h2> <p><strong>迪杰斯特拉（Dijkstra）算法</strong>是 典型 <strong>最短路径算法</strong>，用于 <strong>计算一个节点到其他节点的最短路径</strong>。 它的主要特点是 <strong>以起始点为中心向外层层扩展(广度优先搜索思想)</strong>，直到扩展到终点为止。</p> <h2 id="迪杰斯特拉算法过程"><a href="#迪杰斯特拉算法过程" class="header-anchor">#</a> 迪杰斯特拉算法过程</h2> <p>设：</p> <ul><li><p>v：出发顶点</p></li> <li><p>V：为顶点集合 <code>V{v1,v2,vi...}</code></p></li> <li><p>vs：已经访问过的顶点</p> <ul><li>0 ：未访问</li> <li>1：已访问</li></ul></li> <li><p>dis：v 到 V 中各个顶点的距离 <code>dis{d1,d2,di...}</code></p> <p>到自身（v 到 v）的距离为 0，v 到 Vi 的距离为 di</p></li></ul> <p>那么有如下规则：</p> <ol><li>从 dis 中选择值最小的 di 并移除 dis 集合，同时移除 V 集合中对应的顶点 vi，此时的 v 到 vi 即为最短路径</li> <li>更新 dis 集合，更新规则为：比较 v 到 V 集合中顶点的距离，与 v 通过 Vi 到 V 集合中顶点的距离值，保留较小的一个（同时也应该更新顶点的 <strong>前驱节点</strong> 为 Vi，表名是通过 Vi 达到的。）</li> <li>重复执行两步骤，直到最短路径顶点为目标顶点即可结束</li></ol> <p>上面的算法过程脱离了具体的实现，很抽象，下面通过具体一点的实现步骤过程来看看到底是怎么弄的</p> <h2 id="迪杰斯特拉算法-步骤"><a href="#迪杰斯特拉算法-步骤" class="header-anchor">#</a> 迪杰斯特拉算法-步骤</h2> <p><img src="/dsalg-tutorial/assets/img/image-20210105181340256.2593f8ad.png" alt="image-20210105181340256"></p> <p>需要以下三个重要的数组：</p> <ul><li><p>already_arr：记录各个顶点是否访问过</p> <p>1 表示访问过，0 表示未访问过，每搜索一层（广度优先），都会被动态更新。</p> <p>比如从 G 点出发，访问过 <code>G,A</code> ，此时 A 不算访问过，G 算被访问的节点，因为要计算 G 到 A 的距离，但是 A 不是 <strong>访问节点</strong> 或 <strong>出发节点</strong></p></li> <li><p>pre_visited_arr：每个下标对应的值为前一个顶点下标（前驱节点），统一动态更新</p> <p>比如：从 G 点出发，会访问 <code>G,A</code>、<code>G,B</code>、<code>G,E</code>、 <code>G,F</code>，那么 A、B、E、F 的前驱节点就是 G</p></li> <li><p>dis_arr：记录出发点到其他所有顶点的距离</p> <p>比如：从 G 出发，到过了 <code>G,A</code> ，再从 <code>A,C</code> 到 C，则记录的是 G 到 C 的路径距离</p></li></ul> <p>过程如下：</p> <ol><li><p>以 G 为起点，的各个数组的初始状态</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    对应的村庄		 [A, B, C, D, E, F, G]
			下标		[0, 1, 2, 3, 4, 5, 6
already_arr 	 = [0, 0, 0, 0, 0, 0, 1]
pre_visited_arr = [N, N, N, N, N, N, 0]
dis_arr 		  = [0, 0, 0, 0, 0, 0, 0]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>含义：</p> <ul><li><code>already_arr[n] = 0</code> ：则表示，该点还没有访问过</li> <li><code>already_arr[6] = 1</code>：该点已经访问过，因为从 G 出发，那么 G 点自己就被访问过了</li> <li><code>dis_arr</code> 中都为 0，因为从 G 点开始，还没有到达过其他点</li> <li><code>pre_visited_arr[n] = N</code>：其中 N 为一个较大的值，表示不能直接连接通的权值</li></ul></li> <li><p>计算过从 G 点能到达的点 <code>A,B,E,F</code> 之后的情况如下</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    对应的村庄		 [A, B, C, D, E, F, G]
			下标		[0, 1, 2, 3, 4, 5, 6
already_arr 	 = [0, 0, 0, 0, 0, 0, 1]
pre_visited_arr = [6, 6, N, N, 6, 6, 0]
dis_arr 		  = [2, 3, 0, 0, 4, 6, 0]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>含义：</p> <ul><li><code>already_arr[6] = 1</code>：表示 G 点被访问过</li> <li><code>pre_visited_arr[0]=6</code>：表示 节点 A 的前驱节点是 6，即 G</li> <li><code>dis_arr[0]</code>：表示 G 到 A 的距离是 2</li></ul></li> <li><p>根据广度优先原则（并不是以 GA，GB  A 在前面而选择 A，这里的广度优先指的是：以 G 为起点，那么则把与 G 直连的全部计算，这样一层一层的计算），会先判定 A 点是否需要作为 <strong>访问顶点（注意不是出发顶点）</strong>，需要满足以下条件：</p> <ol><li><p>A 点没有被访问过</p></li> <li><p>并且 G 点到 A 点的距离，要小于 dis_arr 中对应 G 到 A 的距离，因为可能出现以下情况：</p> <p><img src="/dsalg-tutorial/assets/img/image-20210105202655674.9f5e5c95.png" alt="image-20210105202655674"></p> <p>有可能其他通过其他节点到达 A 点的距离是最短的。</p></li></ol> <p>那么此轮会计算 <code>A,B</code> 、<code>A,C</code>，访问之后的情况如下</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    对应的村庄		 [A, B, C, D, E, F, G]
			下标		[0, 1, 2, 3, 4, 5, 6
already_arr 	 = [1, 0, 0, 0, 0, 0, 1]
pre_visited_arr = [6, 0, 0, N, 6, 6, 0]
dis_arr 		  = [2, 7, 9, 0, 4, 6, 0]
此次变动的有            ↑  ↑
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li><code>dis_arr[0] = 1</code>： 表示当前访问的是 A</li> <li><code>dis_arr[1] = 7</code>： 表示 G 到 B （中间经过 A）的距离是 7</li> <li><code>dis_arr[2] = 9</code>： 表示 G 到 C （中间经过 A）的距离是 9</li></ul> <p>这里就出现一个问题：</p> <p><img src="/dsalg-tutorial/assets/img/image-20210105181340256.2593f8ad.png" alt="image-20210105181340256"></p> <p>如上图：<code>GAB = 7</code>，但是 <code>GB=3</code>，并且在访问 G 点的时候，已经计算出了 <code>GB</code> 的距离，所以这里  <code>GAB &gt; GB</code> 的，它不应该被更新到这里来。最终调节之后的结果为：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    对应的村庄		 [A, B, C, D, E, F, G]
			下标		[0, 1, 2, 3, 4, 5, 6
already_arr 	 = [1, 0, 0, 0, 0, 0, 1]
pre_visited_arr = [6, 0, 0, N, 6, 6, 0]
dis_arr 		  = [2, 3, 9, 0, 4, 6, 0]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>这里还有一个问题：对于 pre_visited_arr 的定义，因为 A 的下标为 0 ，之前规定了 0 为它自己，这里是否有讲错？因为整个流程中，对 pre_visited_arr 只是一个更新，并没有对他进行依赖操作，所以就算是错误的，老师也不可能发现。</p></li></ol> <h2 id="代码实现"><a href="#代码实现" class="header-anchor">#</a> 代码实现</h2> <h3 id="构建无向图"><a href="#构建无向图" class="header-anchor">#</a> 构建无向图</h3> <p>老规矩，这种图结构，都需要先构建出它的图结构，这里还是使用之前学过的 邻接矩阵 构建</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>mrcode<span class="token punctuation">.</span>study<span class="token punctuation">.</span>dsalgtutorialdemo<span class="token punctuation">.</span>algorithm<span class="token punctuation">.</span>dijkstra</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 迪杰斯特拉算法-最短路径问题
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DijkstraAlgorithm</span> <span class="token punctuation">{</span>
    <span class="token comment">// 不连通的默认值</span>
    <span class="token keyword">int</span> <span class="token class-name">N</span> <span class="token operator">=</span> <span class="token number">100000</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * 图：首先需要有一个带权的连通无向图
     */</span>
    <span class="token keyword">class</span> <span class="token class-name">MGraph</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> vertex<span class="token punctuation">;</span>  <span class="token comment">// 顶点个数</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> weights<span class="token punctuation">;</span>  <span class="token comment">// 邻接矩阵</span>
        <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> datas<span class="token punctuation">;</span> <span class="token comment">// 村庄数据</span>
        <span class="token keyword">int</span> edgeNum<span class="token punctuation">;</span> <span class="token comment">// 共有多少条边</span>

        <span class="token comment">/**
         * @param vertex  村庄数量， 会按照数量，按顺序生成村庄，如 A、B、C...
         * @param weights 需要你自己定义好那些点是连通的，那些不是连通的
         */</span>
        <span class="token keyword">public</span> <span class="token class-name">MGraph</span><span class="token punctuation">(</span><span class="token keyword">int</span> vertex<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> weights<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>vertex <span class="token operator">=</span> vertex<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>weights <span class="token operator">=</span> weights<span class="token punctuation">;</span>

            <span class="token keyword">this</span><span class="token punctuation">.</span>datas <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span>vertex<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> vertex<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 大写字母 A 从 65 开始</span>
                datas<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token number">65</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// 计算有多少条边</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> weights<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">/*
                        A       B       C       D       E       F       G
                A       0       12      100000  100000  100000  16      14
                B       12      0       10      100000  100000  7       100000
                j = i + 1：比如:
                        i=0,j=1, 那么就是 A,B 从而跳过了 A,A
                        i=1,j=2, 那么就是 B,C 从而跳过了 B,A  B,B
                        那么含义就出来了：跳过双向边的统计，也跳过自己对自己值得为 0 的统计
                 */</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> weights<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>weights<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token class-name">N</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        edgeNum<span class="token operator">++</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%-8s&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> vertex <span class="token operator">:</span> datas<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 控制字符串输出长度：少于 8 位的，右侧用空格补位</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%-8s&quot;</span><span class="token punctuation">,</span> vertex <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> weights<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%-8s&quot;</span><span class="token punctuation">,</span> datas<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> weights<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%-8s&quot;</span><span class="token punctuation">,</span> weights<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">mGraphTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> weights <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>
                <span class="token comment">//     A  B  C  D  E  F  G</span>
                <span class="token comment">/*A*/</span> <span class="token punctuation">{</span><span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token comment">/*B*/</span> <span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token comment">/*C*/</span> <span class="token punctuation">{</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token comment">/*D*/</span> <span class="token punctuation">{</span><span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token comment">/*E*/</span> <span class="token punctuation">{</span><span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token comment">/*F*/</span> <span class="token punctuation">{</span><span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token comment">/*G*/</span> <span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token class-name">MGraph</span> mGraph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MGraph</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> weights<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mGraph<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;共有 %d 条边\n&quot;</span><span class="token punctuation">,</span> mGraph<span class="token punctuation">.</span>edgeNum<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br></div></div><p>测试输出</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>        A       B       C       D       E       F       G       
A       100000  5       7       100000  100000  100000  2       
B       5       100000  100000  9       100000  100000  3       
C       7       100000  100000  100000  8       100000  100000  
D       100000  9       100000  100000  100000  4       100000  
E       100000  100000  8       100000  100000  5       4       
F       100000  100000  100000  4       5       100000  6       
G       2       3       100000  100000  4       6       100000  
共有 10 条边
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="迪杰斯特拉算法求解"><a href="#迪杰斯特拉算法求解" class="header-anchor">#</a> 迪杰斯特拉算法求解</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">dijkstraTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> weights <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>
                <span class="token comment">//     A  B  C  D  E  F  G</span>
                <span class="token comment">/*A*/</span> <span class="token punctuation">{</span><span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token comment">/*B*/</span> <span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token comment">/*C*/</span> <span class="token punctuation">{</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token comment">/*D*/</span> <span class="token punctuation">{</span><span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token comment">/*E*/</span> <span class="token punctuation">{</span><span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token comment">/*F*/</span> <span class="token punctuation">{</span><span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token comment">/*G*/</span> <span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token class-name">MGraph</span> mGraph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MGraph</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> weights<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mGraph<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;共有 %d 条边 \n&quot;</span><span class="token punctuation">,</span> mGraph<span class="token punctuation">.</span>edgeNum<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">dijkstra</span><span class="token punctuation">(</span>mGraph<span class="token punctuation">,</span> <span class="token string">'G'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 记录各个顶点是否访问过</span>
    <span class="token keyword">private</span> <span class="token keyword">boolean</span><span class="token punctuation">[</span><span class="token punctuation">]</span> already_arr<span class="token punctuation">;</span>
    <span class="token comment">// 记录每个下标对应的值为前一个顶点下标（前驱节点）</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> pre_visited_arr<span class="token punctuation">;</span>
    <span class="token comment">// 记录出发点到其他所有顶点的距离</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dis_arr<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">MGraph</span> mGraph<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">dijkstra</span><span class="token punctuation">(</span><span class="token class-name">MGraph</span> mGraph<span class="token punctuation">,</span> <span class="token keyword">char</span> start<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>mGraph <span class="token operator">=</span> mGraph<span class="token punctuation">;</span>
        <span class="token comment">// 三个数组的长度为 顶点的个数</span>
        already_arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">boolean</span><span class="token punctuation">[</span>mGraph<span class="token punctuation">.</span>vertex<span class="token punctuation">]</span><span class="token punctuation">;</span>
        pre_visited_arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>mGraph<span class="token punctuation">.</span>vertex<span class="token punctuation">]</span><span class="token punctuation">;</span>
        dis_arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>mGraph<span class="token punctuation">.</span>vertex<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">// 找到开始节点的下标</span>
        <span class="token keyword">int</span> v <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> mGraph<span class="token punctuation">.</span>datas<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>mGraph<span class="token punctuation">.</span>datas<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> start<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                v <span class="token operator">=</span> i<span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 初始化所有前驱节点为默认状态，使用不可连通的 N 值表示</span>
        <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>pre_visited_arr<span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 标记开始节点为访问状态</span>
        already_arr<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token comment">// 标记前驱节点为：笔记中有歧义，我们使用 N 表示没有前驱节点</span>
        <span class="token comment">// v 是开始节点，那么它就没有前驱节点</span>
        pre_visited_arr<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">N</span><span class="token punctuation">;</span>
        <span class="token comment">// 初始化从起点到到所有点的距离为最大值，后续方便通过它来与新路径距离比较</span>
        <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>dis_arr<span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 初始化，当前访问节点的距离为 0</span>
        dis_arr<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

        <span class="token comment">// 准备工作完成：开始查找最短路径</span>
        <span class="token comment">// 广度优先策略：从起始节点计算它能直达的点的所有距离</span>
        <span class="token function">update</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 一共只需要计算 6 层： 7 个站点 -1</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> data <span class="token operator">:</span> mGraph<span class="token punctuation">.</span>datas<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 寻找下一个访问节点</span>
            <span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token function">findNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 标记该节点被访问过，然后再计算与它直连点的路径</span>
            already_arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token comment">// 并继续计算路径</span>
            <span class="token function">update</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 所有节点都访问过之后：dis_arr 中就保留了从起点 到各个点的最短距离</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>already_arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>pre_visited_arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>dis_arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;从 &quot;</span> <span class="token operator">+</span> start <span class="token operator">+</span> <span class="token string">&quot; 到以下点的最短距离为：&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 为了结果好认一点，格式化最后的结果</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> dis_arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
             <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%S(%d) &quot;</span><span class="token punctuation">,</span> mGraph<span class="token punctuation">.</span>datas<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> dis_arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 计算起点到：当前节点所有能直连的节点的距离
     *
     * @param v
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> weights <span class="token operator">=</span> mGraph<span class="token punctuation">.</span>weights<span class="token punctuation">;</span> <span class="token comment">// 我们的邻接矩阵图</span>

        <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token comment">// weights[v]：由于是广度优先，所以每次只计算与该点能直连的点，也就是该点所在的一行</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> weights<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>weights<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token class-name">N</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 不能直连，跳过</span>
                <span class="token keyword">continue</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// 计算从起点到当前要连通节点的距离   = 起点到当前访问节点的距离 + 访问节点到直连节点的距离</span>
            len <span class="token operator">=</span> dis_arr<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">+</span> weights<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>

            <span class="token comment">// 首先：起点G -&gt; A, A 要没有被访问过</span>
            <span class="token comment">// 其次：如果当前计算新的路径距离 小于 已经存在的 从 起点 G -&gt; 当前计算点的距离</span>
            <span class="token comment">//      说明之前可能从其他途径到达了 i 点，这个距离是比现在找到的距离远</span>
            <span class="token comment">// 当前的近，那么就更新数组中的数据</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>already_arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> len <span class="token operator">&lt;</span> dis_arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                dis_arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> len<span class="token punctuation">;</span>
                pre_visited_arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">;</span> <span class="token comment">// 更改前驱节点，表示 经过了 v 这个点（当前正在访问的点），到达的 i 点</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 广度优先策略一层计算完成之后，寻找下一个节点再计算
     *
     * @return
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">findNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> min <span class="token operator">=</span> <span class="token class-name">N</span><span class="token punctuation">,</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token comment">// 总共需要找 n 此</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> already_arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 该节点没有被访问过</span>
            <span class="token comment">// 并且：从起点到达该节点的距离是最小的</span>
            <span class="token comment">// 如果是第一层执行完成之后：那么有值的则只有：与起点能直连的那几个</span>
            <span class="token comment">//      这里就类似与：原来广度优先中使用队列来保存搜索路径了</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>already_arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> dis_arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> min<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                min <span class="token operator">=</span> dis_arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
                index <span class="token operator">=</span> i<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> index<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br></div></div><p>测试输出</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>        A       B       C       D       E       F       G       
A       100000  5       7       100000  100000  100000  2       
B       5       100000  100000  9       100000  100000  3       
C       7       100000  100000  100000  8       100000  100000  
D       100000  9       100000  100000  100000  4       100000  
E       100000  100000  8       100000  100000  5       4       
F       100000  100000  100000  4       5       100000  6       
G       2       3       100000  100000  4       6       100000  
共有 10 条边 

[true, true, true, true, true, true, true]
[6, 6, 0, 5, 6, 6, 100000]
[2, 3, 9, 10, 4, 6, 0]
从 G 到以下点的最短距离为：
A(2) B(3) C(9) D(10) E(4) F(6) G(0) 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>从输出结果可以看到：</p> <ul><li><p><code>[true, true, true, true, true, true, true]</code></p> <p>所有节点都访问过了</p></li> <li><p><code>[6, 6, 0, 5, 6, 6, 100000]</code></p> <p>从起点到达每个节点的前驱节点如数组上所示</p> <p><img src="/dsalg-tutorial/assets/img/image-20210105181340256.2593f8ad.png" alt="image-20210105181340256"></p> <ul><li>G 到 A：前驱就是 G，表示从 G 到达的 A</li> <li>G 到 B：前驱也是 G</li> <li>G 到 C：前驱是 A，表示从 G 到 C，至少经过了   A，这里看就是 GAC</li> <li>...</li> <li>G 到 G：这里用了最大值表示，是他自己</li></ul></li> <li><p><code>[2, 3, 9, 10, 4, 6, 0]</code> 即 <code>A(2) B(3) C(9) D(10) E(4) F(6) G(0)</code></p> <ul><li><p>从 G 到 A 最短路径为 2</p></li> <li><p>从 G 到 B 最短路径为 3</p></li> <li><p>从 G 到 C 最短路径为 9</p> <p>从图上人工校验可以知道 G 到 C 有两条：</p> <ul><li><code>G → A → C</code> ：9 里</li> <li><code>G → E → C</code> ：12 里</li></ul> <p>证明算法是正确的</p></li> <li><p>...</p></li> <li><p>最后一个 G 到 G，自己到自己，就是 0</p></li></ul></li></ul> <h3 id="换一个出发点验证"><a href="#换一个出发点验证" class="header-anchor">#</a> 换一个出发点验证</h3> <p>这里换一个触发点 C 来看看执行结果</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>    <span class="token comment">/**
     * 从 c 出发
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">dijkstraTest2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> weights <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>
                <span class="token comment">//     A  B  C  D  E  F  G</span>
                <span class="token comment">/*A*/</span> <span class="token punctuation">{</span><span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token comment">/*B*/</span> <span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token comment">/*C*/</span> <span class="token punctuation">{</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token comment">/*D*/</span> <span class="token punctuation">{</span><span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token comment">/*E*/</span> <span class="token punctuation">{</span><span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token comment">/*F*/</span> <span class="token punctuation">{</span><span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token comment">/*G*/</span> <span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token class-name">MGraph</span> mGraph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MGraph</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> weights<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mGraph<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;共有 %d 条边 \n&quot;</span><span class="token punctuation">,</span> mGraph<span class="token punctuation">.</span>edgeNum<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">dijkstra</span><span class="token punctuation">(</span>mGraph<span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>测试输出</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>        A       B       C       D       E       F       G       
A       100000  5       7       100000  100000  100000  2       
B       5       100000  100000  9       100000  100000  3       
C       7       100000  100000  100000  8       100000  100000  
D       100000  9       100000  100000  100000  4       100000  
E       100000  100000  8       100000  100000  5       4       
F       100000  100000  100000  4       5       100000  6       
G       2       3       100000  100000  4       6       100000  
共有 10 条边 
[true, true, true, true, true, true, true]
[2, 0, 100000, 5, 2, 4, 0]
[7, 12, 0, 17, 8, 13, 9]
从 C 到以下点的最短距离为：
A(7) B(12) C(0) D(17) E(8) F(13) G(9) 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>​    <img src="/dsalg-tutorial/assets/img/image-20210105181340256.2593f8ad.png" alt="image-20210105181340256"> 验证几个：</p> <ul><li><p>从 C 到 A 最短路径为 7</p></li> <li><p>从 C 到 B 最短路径为 12</p> <ul><li>CAB：12</li> <li>CEGB：15</li> <li>CAGB：12，虽然有相同的，但是还是最短的</li> <li>....</li></ul></li> <li><p>从 C 到 C 最短路径为 0</p></li> <li><p>...</p></li> <li><p>最后一个 C 到 G 最短路径为 9</p></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/zq99299/dsalg-tutorial/edit/master/docs/dsalg-java-hsp/14/08.md" target="_blank" rel="noopener noreferrer">帮助我们改善此页面！</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新: :</span> <span class="time">2023-07-11 02:03:36</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/dsalg-tutorial/dsalg-java-hsp/14/07.html" class="prev">
        克鲁斯卡尔算法
      </a></span> <span class="next"><a href="/dsalg-tutorial/dsalg-java-hsp/14/09.html">
        弗洛伊德算法
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/dsalg-tutorial/assets/js/app.b3f33a4f.js" defer></script><script src="/dsalg-tutorial/assets/js/2.536adad5.js" defer></script><script src="/dsalg-tutorial/assets/js/32.0b2d028a.js" defer></script><script src="/dsalg-tutorial/assets/js/34.afb1225f.js" defer></script>
  </body>
</html>
